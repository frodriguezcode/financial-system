<ul class="navbar-nav ms-auto">
  <!-- <li>
    <div class="dropdown" ngbDropdown placement="auto">
      <a ngbDropdownToggle href="javascript:"
        ><i class="icon fas fa-solid fa-bell" title="Notification"></i><span class="badge bg-danger"><span class="sr-only"></span></span
      ></a>
      <div ngbDropdownMenu class="dropdown-menu dropdown-menu-end notification">
        <div class="noti-head">
          <h6 class="d-inline-block m-b-0">Notifications</h6>
          <div class="float-end">
            <a href="javascript:" class="m-r-10">mark as read</a>
            <a href="javascript:">clear all</a>
          </div>
        </div>
        <ul class="noti-body">
          <li class="n-title">
            <p class="m-b-0">NEW</p>
          </li>
          <li class="notification">
            <div class="media">
              <img class="img-radius" src="assets/images/user/avatar-1.jpg" alt="Generic placeholder image" />
              <div class="media-body">
                <p
                  ><strong>John Doe</strong><span class="n-time text-muted"><i class="icon feather icon-clock m-r-10"></i>30 min</span></p
                >
                <p>New ticket Added</p>
              </div>
            </div>
          </li>
          <li class="n-title">
            <p class="m-b-0">EARLIER</p>
          </li>
          <li class="notification">
            <div class="media">
              <img class="img-radius" src="assets/images/user/avatar-2.jpg" alt="Generic placeholder image" />
              <div class="media-body">
                <p
                  ><strong>Joseph William</strong
                  ><span class="n-time text-muted"><i class="icon fas fa-solid fa-clock m-r-10"></i>30 min</span></p
                >
                <p>Purchase New Theme and make payment</p>
              </div>
            </div>
          </li>
          <li class="notification">
            <div class="media">
              <img class="img-radius" src="assets/images/user/avatar-3.jpg" alt="Generic placeholder image" />
              <div class="media-body">
                <p
                  ><strong>Sara Soudein</strong
                  ><span class="n-time text-muted"><i class="icon feather icon-clock m-r-10"></i>30 min</span></p
                >
                <p>currently login</p>
              </div>
            </div>
          </li>
        </ul>
        <div class="noti-footer">
          <a href="javascript:">show all</a>
        </div>
      </div>
    </div>
  </li> -->
 
  <!-- <li (click)="this.visibleUserList = !this.visibleUserList">
    <div class="dropdown">
      <a href="javascript:" class="displayChatbox dropdown-toggle">
        <i class="icon fas fa-solid fa-envelope" title="Mail InBox"></i><span class="badge bg-success"><span class="sr-only"></span></span>
      </a>
    </div>
  </li> -->
  
  <li (click)="this.visibleUserList = !this.visibleUserList">
 <h6 style="color: white;"> <i class="fa-solid fa-building"></i> {{this.usuario.Empresa}}</h6>
  </li>
  <li>
    <div class="dropdown drp-user" ngbDropdown placement="auto">
      <a href="javascript:" ngbDropdownToggle>
        <img src="https://firebasestorage.googleapis.com/v0/b/sistemafinanciero-924ff.appspot.com/o/logo%20usuario.png?alt=media&token=6e6cb4b0-5f84-43c5-9829-5431e984eb9d" class="img-radius wid-40" alt="User-Profile-Image" />
      </a>

      <div class="dropdown-menu dropdown-menu-end profile-notification" ngbDropdownMenu>
        <div class="pro-head">
          <img src="https://firebasestorage.googleapis.com/v0/b/sistemafinanciero-924ff.appspot.com/o/logo%20usuario.png?alt=media&token=6e6cb4b0-5f84-43c5-9829-5431e984eb9d" class="img-radius" alt="User-Profile-Image" />
          <span>{{this.usuario.Usuario}}</span>
      
        </div>
        <ul class="pro-body">
          <li
            ><a (click)="showDialogEmpresa() " class="dropdown-item"><i class="fa-solid fa-building"></i> {{this.usuario.Empresa}}</a></li
          >
          <li
            ><a (click)="showDialog() " class="dropdown-item"><i class="fa-solid fa-user"></i> Perfil</a></li
          >
     
          <li
            ><a routerLink="/auth/signin" class="dropdown-item"><i class="fa-solid fa-lock-open"></i> Salir</a></li
          >
        </ul>
      </div>
    </div>
  </li>
</ul>

<section
  class="header-user-list"
  *ngIf="visibleUserList && !this.gradientConfig.isRtlLayout"
  [ngClass]="{ open: visibleUserList }"
  [@slideInOutLeft]
>
  <app-chat-user-list
    (ChatToggle)="onChatToggle($event)"
    (ChatCollapse)="this.visibleUserList = !this.visibleUserList; this.chatMessage = false"
  ></app-chat-user-list>
</section>

<section class="header-chat" *ngIf="chatMessage && !this.gradientConfig.isRtlLayout" [ngClass]="{ open: chatMessage }" [@slideInOutLeft]>
  <app-chat-msg (ChatToggle)="this.chatMessage = !this.chatMessage" [friendId]="friendId"></app-chat-msg>
</section>

<section
  class="header-user-list"
  *ngIf="visibleUserList && this.gradientConfig.isRtlLayout"
  [ngClass]="{ open: visibleUserList }"
  [@slideInOutRight]
>
  <app-chat-user-list
    (ChatToggle)="onChatToggle($event)"
    (ChatCollapse)="this.visibleUserList = !this.visibleUserList; this.chatMessage = false"
  ></app-chat-user-list>
</section>

<section class="header-chat" *ngIf="chatMessage && this.gradientConfig.isRtlLayout" [ngClass]="{ open: chatMessage }" [@slideInOutRight]>
  <app-chat-msg (ChatToggle)="this.chatMessage = !this.chatMessage" [friendId]="friendId"></app-chat-msg>
</section>


<p-dialog 
    header="Perfil" 
    [modal]="true"
    [(visible)]="visible" 
    [style]="{ width: '50rem' }" 
    [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" 
    [maximizable]="true">
    <div *ngIf="visible==true" class="container mt-1">
      <div class="main-body">
        <div class="row">
          <div class="col-lg-4">
            <div class="card">
              <div class="card-body">
                <div class="d-flex flex-column align-items-center text-center">
                  <img src="https://firebasestorage.googleapis.com/v0/b/sistemafinanciero-924ff.appspot.com/o/logo%20usuario.png?alt=media&token=6e6cb4b0-5f84-43c5-9829-5431e984eb9d" alt="Admin" class="rounded-circle p-1 bg-primary" width="110">
                  <div class="mt-3">
                    <h4>{{this.usuario.Nombres}}</h4>
                    <p class="text-secondary mb-1">{{this.getRolName(this.usuario.idRol)}}</p>

                  </div>
                </div>

              </div>
            </div>
          </div>
          <div class="col-lg-8">
            <div class="card">
              <div class="card-body">
                <div class="row mb-3">
                  <div class="col-sm-3">
                    <h6 class="mb-0">Nombres</h6>
                  </div>
                  <div class="col-sm-9 text-secondary">
                    <input [formControl]="this.Nombres" type="text" class="form-control" value="John Doe">
                  </div>
                </div>
                <div class="row mb-3">
                  <div class="col-sm-3">
                    <h6 class="mb-0">Correo</h6>
                  </div>
                  <div class="col-sm-9 text-secondary">
                    <input [formControl]="this.Correo" type="text" class="form-control" value="john@example.com">
                  </div>
                </div>
                <div class="row mb-3">
                  <div class="col-sm-3">
                    <h6 class="mb-0">Celular</h6>
                  </div>
                  <div class="col-sm-9 text-secondary">
                    <input [formControl]="this.Celular" type="text" class="form-control" value="(239) 816-9029">
                  </div>
                </div>
     
      
                <div class="row">
                  
                  <div class="col-3">
                    <button type="button" (click)="ActualizarUsuario()" class="btn btn-success">Guardar</button>
                   
                  </div>
                  <div class="col-6">
                    <button type="button" (click)=" recuperarContrasenia()" class="btn btn-warning">Cambiar Contraseña</button>
                   
                  </div>
                </div>
              </div>
            </div>
    
          </div>
        </div>
      </div>
    </div>
</p-dialog>

<p-dialog header="Cambiar de empresa" [modal]="true" [(visible)]="visibleEmpresa" [style]="{ width: '25rem' }">
  <span class="p-text-secondary block mb-5">En este momento está en: <strong>{{this.usuario.Empresa}}</strong></span>
  <div style="margin-top: -30px;" class="flex align-items-center gap-3 mb-3">
      <select (change)="setEmpresa($any($event.target).value)" class="form-select form-select-sm" aria-label="Small select example">
        <option value="0" selected>Seleccione una empresa</option>
        <option value="{{empresa.id}}" *ngFor="let empresa of Empresas">{{empresa.Nombre}}</option>
      </select>
  </div>


</p-dialog>

<p-dialog header="Inicie Sesión" [modal]="true" [(visible)]="visibleLogin" [style]="{ width: '25rem' }">
  <div class="flex align-items-center gap-3 mb-3">
      <label for="username" class="font-semibold w-6rem">Usuario</label>
      <input [formControl]="UsuarioLogin" pInputText id="username" class="flex-auto" autocomplete="off" />
  </div>
  <div class="flex align-items-center gap-3 mb-5">
      <label for="email" class="font-semibold w-6rem">Contraseña</label>
      <input [formControl]="Passw" type="password" pInputText id="email" class="flex-auto" autocomplete="off" />
  </div>
  <div class="flex justify-content-end gap-2">
    <button type="button" (click)="iniciarSesion()" class="btn btn-success">Iniciar Sesión</button>
  </div>
</p-dialog>



